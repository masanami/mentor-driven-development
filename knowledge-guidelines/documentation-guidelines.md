# プロジェクト文書作成ガイドライン

**対象**: MDDフレームワークを使用するすべてのプロジェクト
**目的**: AIエージェントが効率的に処理できる高品質な文書の作成

## 1. 文書構造の原則

### 基本構造

```markdown
# タイトル（H1：1つのみ）

**メタデータ**
- 作成者: [エージェント名]
- 作成日: [日付]
- ステータス: [未着手/進行中/完了/保留]
- 優先度: [高/中/低]

## 概要（H2）
[文書の目的と概要を簡潔に]

## 詳細内容（H2以下）
[章立てして記載]

## 依存関係・参照
[他文書との関連性を明記]

## 課題・制約事項
[未解決の問題や制約を記載]
```

### 階層ルール

- **H1**: 文書タイトルのみ（1つ）
- **H2**: 主要セクション（概要、詳細、結論など）
- **H3**: サブセクション（具体的な項目）
- **H4以下**: 使用禁止（複雑化を防ぐ）

## 2. 品質保証チェックポイント

### 完全性チェック

**必須項目**
- [ ] タイトルが内容を適切に表現している
- [ ] メタデータがすべて記載されている
- [ ] 概要セクションが存在する
- [ ] 結論・まとめが記載されている

**内容チェック**
- [ ] 目的が明確に定義されている
- [ ] 必要な情報がすべて含まれている
- [ ] 読み手が理解できる詳細レベルである
- [ ] 実行可能な形式で記載されている

### 一貫性チェック

**用語・表記**
- [ ] 同一概念は同一用語で統一
- [ ] 略語の初出時に正式名称を併記
- [ ] 数値・日付の表記形式が統一

**構造・形式**
- [ ] 見出しレベルが適切
- [ ] リストの記法が統一（-、*、数字）
- [ ] コードブロックの言語指定あり

### 依存関係チェック

**相互参照**
- [ ] 関連文書への参照が明記
- [ ] 依存する前提条件が記載
- [ ] 影響を受ける他文書の特定

**整合性**
- [ ] 他文書との矛盾がない
- [ ] バージョン間の整合性が保たれている
- [ ] データ・仕様の一致を確認

## 3. エージェント向け記載ルール

### 判断基準の明文化

**良い例**
```markdown
## 承認基準
以下の条件をすべて満たす場合に承認とする：
1. 全機能のテストが通過
2. コードレビューが完了
3. セキュリティチェックが完了
```

**悪い例**
```markdown
## 承認基準
適切にテストされ、問題がなければ承認
```

### 具体例の提示

**実装例を含める**
```markdown
## API仕様
### エンドポイント
- GET /api/users/{id}

### レスポンス例
\```json
{
  "id": 1,
  "name": "田中太郎",
  "email": "tanaka@example.com"
}
\```
```

### 選択肢の明示

**技術選択時**
```markdown
## データベース選択
### 候補
1. **PostgreSQL**（推奨）
   - 利点: 高性能、ACID準拠
   - 欠点: 学習コスト

2. **MySQL**
   - 利点: 軽量、簡単
   - 欠点: 機能制限

### 選択基準
パフォーマンス要件 > 学習コスト
```

## 4. 文書種別ごとの要点

### 要件定義書

**必須セクション**
- 機能要件（MUST/SHOULD/COULD）
- 非機能要件（性能、セキュリティ、可用性）
- 受入基準（測定可能な形式）
- 制約条件・前提条件

**品質基準**
- 曖昧さのない表現
- 測定可能な基準
- 実装者が判断できる詳細度

### 設計書

**必須セクション**
- システム全体像
- コンポーネント構成
- データフロー
- インターフェース仕様

**品質基準**
- 実装可能な詳細度
- 技術選択の根拠
- 将来拡張性の考慮

### 実装文書

**必須セクション**
- 実装方針
- コーディング規約
- テスト戦略
- デプロイ手順

**品質基準**
- 再現可能な手順
- エラー対応方法
- 品質チェック項目

## 5. トラブルシューティング

### よくある問題

**問題**: 文書が長すぎて読みにくい
**対策**: 1文書1トピック原則、必要に応じて分割

**問題**: 更新されない古い情報
**対策**: 更新日の明記、定期レビューの実施

**問題**: エージェント間で解釈が異なる
**対策**: 判断基準の明文化、具体例の提示

### 品質向上のコツ

1. **一度に完璧を目指さない**: 段階的な改善
2. **読み手を意識**: エージェントが処理しやすい形式
3. **実例重視**: 抽象的説明より具体例
4. **継続的更新**: プロジェクト進行に合わせた改善

## 6. チェックリスト

### 文書作成完了時

- [ ] タイトルと内容が一致している
- [ ] メタデータが適切に設定されている
- [ ] 必須セクションがすべて含まれている
- [ ] 他文書との整合性が確認されている
- [ ] 判断基準が明確に記載されている
- [ ] 具体例が適切に提示されている
- [ ] 誰が読んでも同じ理解になる表現である

### レビュー時

- [ ] 目的に対して必要十分な内容である
- [ ] 実装・実行可能な詳細度である
- [ ] 用語・表記が統一されている
- [ ] 依存関係が適切に記載されている
- [ ] 将来の保守性が考慮されている

---

**重要**: このガイドラインは生きた文書です。プロジェクト完了時に学習内容を反映し、継続的に改善してください。
